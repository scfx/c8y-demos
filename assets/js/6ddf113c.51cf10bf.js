"use strict";(self.webpackChunkc_8_y_docs=self.webpackChunkc_8_y_docs||[]).push([[735],{392:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>o,metadata:()=>d,toc:()=>r});var i=t(4848),s=t(8453);const o={sidebar_position:4},c="Local UI",d={id:"thin-edge/local-ui",title:"Local UI",description:"This project adds an configuration ui to thin-edge.io. It enables you to use thin-edge.io with an easy-to-use docker based deployment and no code commissioning process. This helps to setup and monitor the edge using a web-ui:",source:"@site/docs/thin-edge/local-ui.md",sourceDirName:"thin-edge",slug:"/thin-edge/local-ui",permalink:"/c8y-demos/docs/thin-edge/local-ui",draft:!1,unlisted:!1,editUrl:"https://github.com/scfx/c8y-demos/docs/thin-edge/local-ui.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Node-Red",permalink:"/c8y-demos/docs/thin-edge/node-red"},next:{title:"Firmware Management",permalink:"/c8y-demos/docs/thin-edge/firmware"}},a={},r=[];function h(e){const n={a:"a",code:"code",h1:"h1",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"local-ui",children:"Local UI"}),"\n",(0,i.jsx)(n.p,{children:"This project adds an configuration ui to thin-edge.io. It enables you to use thin-edge.io with an easy-to-use docker based deployment and no code commissioning process. This helps to setup and monitor the edge using a web-ui:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"web-ui, for easy setup of the Thin Edge"}),"\n",(0,i.jsx)(n.li,{children:"simple line chart to view streamed data and to view historical data"}),"\n",(0,i.jsx)(n.li,{children:"component to store measurements locally in a mongo db"}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"content",children:"Content"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#local-ui",children:"Local UI"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#content",children:"Content"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#solution-components",children:"Solution components"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#build-thin-edge-binaries-and-run-solution",children:"Build Thin Edge binaries and run solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#configure-thin-edge-in-the-web-ui",children:"Configure Thin Edge in the web-ui"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#contributing",children:"Contributing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#license",children:"License"})}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"solution-components",children:"Solution components"}),"\n",(0,i.jsx)(n.p,{children:"This solution consists of 3 services:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tedge"}),": contain the Thin Edge core services: ",(0,i.jsx)(n.code,{children:"tedge-agent"}),", ",(0,i.jsx)(n.code,{children:"tedge-mapper"}),", ... and ",(0,i.jsx)(n.code,{children:"tedge-mgmt-server"})," app"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mqtt-collector"}),": listens to measurements on all topics of the mosquitto broker and sends them to the mongo db"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mongodb"}),": stores the measurements in a collection, to be retrieved by the web-ui. All measurements have time-to-live (TTL) of 300. This can be changed"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When memory and storage usage should be minimized the solution can be confiured to run without storage. In this case the two container ",(0,i.jsx)(n.code,{children:"mqtt-collector"})," and ",(0,i.jsx)(n.code,{children:"mongodb"})," are not used.\nIn this case no historic measurements can be viewed, only realtime measurements can be viewed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Docker Container",src:t(4370).A+"",width:"3199",height:"2163"})}),"\n",(0,i.jsxs)(n.p,{children:["The following diagram show how the components (",(0,i.jsx)(n.code,{children:"tedge-mgmt-server"}),", ",(0,i.jsx)(n.code,{children:"node"})," backend, ",(0,i.jsx)(n.code,{children:"tedge"})," processes) in the tedge service communicate:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Components of Docker Container tedge-mgmt-server",src:t(1039).A+"",width:"4143",height:"2200"})}),"\n",(0,i.jsx)(n.h1,{id:"build-thin-edge-binaries-and-run-solution",children:"Build Thin Edge binaries and run solution"}),"\n",(0,i.jsx)(n.p,{children:"To build the docker image the docker memory config must be set greater than 2GB, e.g. 4GB.\nTo build the docker solution run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"docker-compose up\n"})}),"\n",(0,i.jsx)(n.h1,{id:"configure-thin-edge-in-the-web-ui",children:"Configure Thin Edge in the web-ui"}),"\n",(0,i.jsxs)(n.p,{children:["To access the web-ui open a web browser at: ",(0,i.jsx)(n.a,{href:"http://localhost:9080/#/setup",children:"http://localhost:9080/#/setup"}),".\nHere you start the setup of the edge and enter external device id and your cumulocity tenant url.\n",(0,i.jsx)(n.img,{alt:"Setup",src:t(1306).A+"",width:"3448",height:"2070"}),"\nThen press ",(0,i.jsx)(n.code,{children:"Configure Edge"})," to create a device certificate. This Will late be uploaded to you cloud tenant. The Thin Edge uses the certificate for authentication.\nThis will generate a certificate. This has to be uploaded through the web-ui. As mentioned before, the certificate is uploaded to the cloud tenant."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"Setup",src:t(4308).A+"",width:"3448",height:"2070"}),"\nAlternatively, you can download the certificate locally and upload it manually to your cloud tenant."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"Setup",src:t(6390).A+"",width:"3448",height:"2070"}),"\nA detailed description how to import your certificate can de found is ",(0,i.jsx)(n.a,{href:"https://cumulocity.com/guides/users-guide/device-management/#managing-trusted-certificates",children:"Cumulocity Administration Documentation"})," to your cumulocity cloud tenant.\nDownload the certificate.\nWhen the certificate is uploaded you can start the edge. If everything went well the completion of the startup is acknowledged"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Setup",src:t(2290).A+"",width:"3448",height:"2070"})}),"\n",(0,i.jsx)(n.p,{children:"The edge processes are started and the Thin Edge is registered in the cloud tenant"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Setup",src:t(1602).A+"",width:"3448",height:"2078"})}),"\n",(0,i.jsx)(n.p,{children:"The registration to the cloud can be verified here as well:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Setup",src:t(8563).A+"",width:"3448",height:"2070"})}),"\n",(0,i.jsxs)(n.p,{children:["Then you can access the analytics dashboard : ",(0,i.jsx)(n.a,{href:"http://localhost:9080/#/analytics",children:"http://localhost:9080/#/analytics"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Setup",src:t(6857).A+"",width:"3454",height:"2070"})}),"\n",(0,i.jsx)(n.p,{children:"and change the settings of the chart:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Analytics Measurement Series",src:t(4986).A+"",width:"3454",height:"2070"})}),"\n",(0,i.jsx)(n.p,{children:"In case the solution is used without the storage component you can only view measurement in realtime mode. The historic view is not available."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Analytics without Storage",src:t(691).A+"",width:"3454",height:"2070"})}),"\n",(0,i.jsx)(n.h1,{id:"contributing",children:"Contributing"}),"\n",(0,i.jsx)(n.p,{children:"Contributions are what make the open source community such an amazing place to learn, inspire, and create. How you can contribute to thin-edge.io you can find in the Contribution Guideline"}),"\n",(0,i.jsx)(n.p,{children:"Any contributions you make are greatly appreciated."}),"\n",(0,i.jsx)(n.h1,{id:"license",children:"License"}),"\n",(0,i.jsx)(n.p,{children:"Distributed under the Apache 2.0 License. See LICENSE for more information."})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},6857:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01-Analytics-1f9d19caa441a02ead6e352fbc253783.png"},1039:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01-Architecture-74ff89a671e181e5077a95c925f4d36e.svg"},1602:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01-Cloud-c9b7da5113a737018c725edc92ac43c0.png"},2290:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01-Control-dbd9250fc25e6f151a542e6b13cacc60.png"},1306:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01-Setup-59db6a262bf0a9104e15a484b6c8c94b.png"},4986:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/02-Analytics-9af6c26c4cb63c463acc936ec86c95cd.png"},4370:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/02-Architecture-b4de963e33c9bfff38efc939164eae1e.svg"},691:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/03-Analytics-b13d3d0699de9510d01439988c712495.png"},4308:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/03-Setup-2ba33a9eab10730ac09b822c68139364.png"},8563:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/04-Setup-1cb072ee06d842b1268b26c6f8835457.png"},6390:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/05-Setup-304d7007221e7b56150011a9e585efe5.png"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>d});var i=t(6540);const s={},o=i.createContext(s);function c(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);